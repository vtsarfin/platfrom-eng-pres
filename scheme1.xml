<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36" version="29.3.4">
  <diagram id="hybrid-gitops" name="Hybrid GitOps (Terraform + Managed Cloud K8s + On-Prem K8s)">
    <mxGraphModel dx="1649" dy="789" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="t1" parent="1" style="text;html=1;fontSize=22;fontStyle=1;align=center;verticalAlign=middle;" value="Hybrid Kubernetes: Terraform + GitOps + Per-Cluster Autonomy" vertex="1">
          <mxGeometry height="40" width="1160" x="220" y="20" as="geometry" />
        </mxCell>
        <mxCell id="z_shared" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#b3b3b3;fontStyle=1;" value="Shared / Central Services" vertex="1">
          <mxGeometry height="170" width="1520" x="40" y="80" as="geometry" />
        </mxCell>
        <mxCell id="z_cloud" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eef6ff;strokeColor=#7aa7d9;fontStyle=1;" value="Cloud (Managed Kubernetes)" vertex="1">
          <mxGeometry height="590" width="760" x="40" y="270" as="geometry" />
        </mxCell>
        <mxCell id="z_onprem" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0fff0;strokeColor=#7fbf7f;fontStyle=1;" value="On-Prem (Self-Managed Kubernetes)" vertex="1">
          <mxGeometry height="590" width="740" x="820" y="270" as="geometry" />
        </mxCell>
        <mxCell id="git" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#333333;fontStyle=1;" value="Git Repos&#xa;(Apps + Policies + Cluster Add-ons)" vertex="1">
          <mxGeometry height="90" width="320" x="80" y="120" as="geometry" />
        </mxCell>
        <mxCell id="tf" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#333333;" value="Terraform (IaC)&#xa;- Cloud infra (VPC/IAM/EKS etc.)&#xa;- On-prem infra (vSphere/Baremetal)&#xa;- Add-ons via Helm provider" vertex="1">
          <mxGeometry height="90" width="360" x="410" y="180" as="geometry" />
        </mxCell>
        <mxCell id="obs" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#333333;" value="Central Observability&#xa;Grafana + Logs (Loki/ELK) + Alerts" vertex="1">
          <mxGeometry height="90" width="360" x="860" y="60" as="geometry" />
        </mxCell>
        <mxCell id="idp" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#333333;" value="Identity Provider (SSO)&#xa;OIDC / SAML / AD" vertex="1">
          <mxGeometry height="90" width="340" x="1180" y="120" as="geometry" />
        </mxCell>
        <mxCell id="cloud_tf_scope" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#3b78b4;" value="Terraform applies (cloud)&#xa;VPC / IAM / KMS / EKS / Node groups" vertex="1">
          <mxGeometry height="70" width="320" x="80" y="320" as="geometry" />
        </mxCell>
        <mxCell id="eks" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#3b78b4;fontStyle=1;" value="Managed K8s Cluster&#xa;(EKS / GKE / AKS)" vertex="1">
          <mxGeometry height="90" width="320" x="80" y="410" as="geometry" />
        </mxCell>
        <mxCell id="argocd_cloud" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#3b78b4;" value="Argo CD (in-cluster)&#xa;pulls from Git" vertex="1">
          <mxGeometry height="90" width="320" x="420" y="410" as="geometry" />
        </mxCell>
        <mxCell id="policy_cloud" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#3b78b4;" value="Policy Engine&#xa;(Kyverno / Gatekeeper)" vertex="1">
          <mxGeometry height="80" width="320" x="80" y="520" as="geometry" />
        </mxCell>
        <mxCell id="obs_cloud" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#3b78b4;" value="Telemetry agents&#xa;(Prometheus, Fluent Bit/Vector)" vertex="1">
          <mxGeometry height="80" width="320" x="420" y="520" as="geometry" />
        </mxCell>
        <mxCell id="apps_cloud" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#3b78b4;" value="Apps / Workloads&#xa;deployed via GitOps" vertex="1">
          <mxGeometry height="90" width="660" x="80" y="620" as="geometry" />
        </mxCell>
        <mxCell id="onprem_tf_scope" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;" value="Terraform applies (on-prem)&#xa;VMs/Baremetal + Networking + Storage" vertex="1">
          <mxGeometry height="70" width="320" x="860" y="320" as="geometry" />
        </mxCell>
        <mxCell id="capi" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;" value="Cluster Lifecycle&#xa;(Cluster API recommended)&#xa;Terraform provisions infra; CAPI manages K8s" vertex="1">
          <mxGeometry height="70" width="320" x="1200" y="320" as="geometry" />
        </mxCell>
        <mxCell id="onprem_k8s" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;fontStyle=1;" value="On-Prem K8s Cluster&#xa;(self-managed)" vertex="1">
          <mxGeometry height="90" width="320" x="860" y="410" as="geometry" />
        </mxCell>
        <mxCell id="argocd_onprem" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;" value="Argo CD (in-cluster)&#xa;pulls from Git" vertex="1">
          <mxGeometry height="90" width="320" x="1200" y="410" as="geometry" />
        </mxCell>
        <mxCell id="policy_onprem" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;" value="Policy Engine&#xa;(Kyverno / Gatekeeper)" vertex="1">
          <mxGeometry height="80" width="320" x="860" y="520" as="geometry" />
        </mxCell>
        <mxCell id="obs_onprem" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;" value="Telemetry agents&#xa;(Prometheus, Fluent Bit/Vector)" vertex="1">
          <mxGeometry height="80" width="320" x="1200" y="520" as="geometry" />
        </mxCell>
        <mxCell id="apps_onprem" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2f8f2f;" value="Apps / Workloads&#xa;deployed via GitOps" vertex="1">
          <mxGeometry height="90" width="660" x="860" y="620" as="geometry" />
        </mxCell>
        <mxCell id="e_git_cloud" edge="1" parent="1" source="git" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;" target="argocd_cloud">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_git_onprem" edge="1" parent="1" source="git" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;" target="argocd_onprem">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_tf_cloud" edge="1" parent="1" source="tf" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;" target="cloud_tf_scope">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_tf_onprem" edge="1" parent="1" source="tf" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;" target="onprem_tf_scope">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_cloud_tf_to_cluster" edge="1" parent="1" source="cloud_tf_scope" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#3b78b4;" target="eks">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_onprem_tf_to_capi" edge="1" parent="1" source="onprem_tf_scope" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#2f8f2f;" target="capi">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_capi_to_onprem_cluster" edge="1" parent="1" source="capi" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#2f8f2f;" target="onprem_k8s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_argocd_cloud_to_apps" edge="1" parent="1" source="argocd_cloud" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#3b78b4;" target="apps_cloud">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_argocd_onprem_to_apps" edge="1" parent="1" source="argocd_onprem" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#2f8f2f;" target="apps_onprem">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_git_policy_cloud" edge="1" parent="1" source="git" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#3b78b4;dashed=1;" target="policy_cloud">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_git_policy_onprem" edge="1" parent="1" source="git" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#2f8f2f;dashed=1;" target="policy_onprem">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_obs_cloud" edge="1" parent="1" source="obs_cloud" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;dashed=1;" target="obs">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_obs_onprem" edge="1" parent="1" source="obs_onprem" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;dashed=1;" target="obs">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_idp_cloud" edge="1" parent="1" source="idp" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;dashed=1;" target="eks">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e_idp_onprem" edge="1" parent="1" source="idp" style="endArrow=block;html=1;strokeWidth=2;strokeColor=#333333;dashed=1;" target="onprem_k8s">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
